
  /*
   * Header of CartoDB
   */

  @import "compass";
  @import "common/mixins";
  @import "common/sprites";
  @import "common/vars";

  $text-shadow-color: rgba(black,0.25);

  header {
    position:relative;
    display: block;
    width: 100%;
    height: 36px;
    padding: 30px 0;
    background: image-url('layout/relief.png') repeat 0 0 #377CB9; // IE
    @include background(image-url("layout/relief.png") repeat 0 0);
    background-color: #519FD9;
    @include box-shadow(rgba(black, 0.3) 0 0 12px, rgba(0,0,0,0.09) 0 -5px 3px 0 inset);
    @include transform-style("linear");
    @include transition-property("background-color");
    @include transition-duration(500ms);

    &:before {
      position:absolute;
      content:' ';
      top:0;
      left:0;
      right:0;
      bottom:0;
      @include background(linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0.1)));
      z-index:0;
    }

    border-bottom: 1px solid #2F567E;
    z-index:2;

    h1 {
      margin:7px 0 0 0;
      a {
        @include inline-block();
        width:93px;
        height:18px;
        @include icons-sprite(cartodb);
        @include text-indent();
        &:focus,&:hover {outline:none; @include icons-sprite(cartodb,$offset-y:-19px)}
      }
    }

    ul {
      display:block;
      letter-spacing:-4px;
      width:auto;

      li {
        @include inline-block();
        width:auto;
        margin-left:25px;
        letter-spacing:0;

        a {
          font-size:15px;
          color:white;
          text-shadow:0 1px $text-shadow-color;

          &.dropdown {
            position:relative;
            padding:0 12px 0 0;
            display:block;

            &:before {
              position:absolute;
              content:' ';
              top:-1px;
              right:0px;
              margin:8px 0 0 5px;
              border-left:3px solid transparent;
              border-right:3px solid transparent;
              border-top:3px solid white;
              z-index:1;
            }

            &:after {
              position:absolute;
              content:' ';
              top:-1px;
              right:0px;
              margin:9px 0 0 5px;
              border-left:3px solid transparent;
              border-right:3px solid transparent;
              border-top:3px solid $text-shadow-color;
              z-index:0;
            }
          }

          &.account {
            &.separator {
              padding:0 20px 0 0;
            }

            span {
              position:absolute;
              top:0;
              right:11px;
            }

            &:hover {
              cursor:pointer;
            }
          }

          &:hover {color:white}
          &.selected {color:#264565; text-shadow:0 1px rgba(white,0.25); &:hover {text-decoration:none; cursor:default;} &:after {color:rgba(#264565,0.5);} &:before {border-top-color:#264565;}}
          &:focus {outline:none; text-decoration:underline;}

          &.rounded_white {text-shadow:none; &:hover {color:#333333;}}
        }

        form {
          position:relative;
          width:247px;
          height:36px;
          margin:0;

          input[type="text"] {
            width:207px;
            margin:0;
            padding:10px 30px 10px 10px;
            background:rgba(0,0,0,0.20);
            font:normal 13px "Helvetica",Arial;
            border:none;
            color:#9AB2CB;
            @include border-radius(4px);
            @include transform-style("linear");
            @include transition-property("background,color");
            @include transition-duration(500ms);

            &::-webkit-input-placeholder {
              color:#9AB2CB;
            }

            &:-moz-placeholder {
              color:#9AB2CB;
            }

            &:focus {
              outline:none;
              background:rgba(0,0,0,0.35);
              color:white;
              @include transform-style("linear");
              @include transition-property("background,color");
              @include transition-duration(500ms);
            }
          }

          input[type="submit"] {
            position:absolute;
            top:10px;
            right:10px;
            width:15px;
            height:15px;
            border:none;
            @include icons-sprite(lens);
            @include text-indent();
            &:focus {outline:none; @include icons-sprite(lens, $offset-y:-15px);}
            &:hover {cursor:pointer; @include icons-sprite(lens, $offset-y:-15px);}
          }
        }
      }
    }

    // Header for the table :)
    &.table {
      position:fixed;
      left:0;
      top:0;
      min-width:960px;
      height:110px;
      padding:20px 0;
      overflow:visible;
      border-bottom: 1px solid rgba(#333333, 0.8);
      @include box-shadow(rgba(0,0,0,0.09) 0 -5px 3px 0 inset);
      z-index:2;

      div.globalerror {
        position: absolute;
        top:auto;
        bottom:0;
        left:0;
        width:100%;
        height:39px;
        padding:0;
        overflow:hidden;
        text-align:center;
        z-index:-1;

        p {
          @include border-top-radius(3px);
          margin-top:39px;
          @include inline-block();
          height:15px;
          width:auto;
          padding:12px 15px;
          line-height:15px;
          background:rgba(0,0,0,0.35);
          font:normal 13px $text-fonts;
          color:white;

          &.error {
            color: #EB2466;
            background-color: #FFEBF1;
          }

          img {
            position: relative;
            top: 3px;
            margin-right: 5px;
          }


        }

      }

      .inner {width:auto;}

      div.left {
        position:relative;
        width:65%;
        height:131px;
        margin-left:35px;

        hgroup {
          @include inline-block();
          margin:4px 0 0 0;
          width:100%;

          .author {
            color: #FFF;
            font-size: 11px;
            top: 5px;
            position:relative;
            margin-left: 5px;

            a {
              text-decoration: underline;
              color: #FFF;
            }

            &:before {
              content: "by ";
            }
          }

          h1,h2,a.button_header {
            @include inline-block();
            margin:0;
            vertical-align:middle;
            letter-spacing: 0px;
            width:auto;
          }

          h1 {
            line-height:23px;
          }

          h2 {
            position:relative;
            padding:0 0 1px 18px;
            line-height:30px;

            a {
              overflow:hidden;
              display:block;
              max-width:440px;
              margin:0;
              font-size:21px;
              font-family: $title-fonts;
              color:white;
              text-overflow:ellipsis;
              padding:0;
              white-space:nowrap;
              text-shadow:0 1px $text-shadow-color;
            }

            &:before {
              position:absolute;
              content:'|';
              font-weight:normal;
              top:1px;
              left:0;
              margin:0 0 0 5px;
              font-size: 17px;
              color:rgba(255,255,255,1);
            }
          }

          a.button_header {margin:6px 0 0 10px;}

        }

        span.table_description {
          display:block;
          margin: 3px 0 0 115px;

          p {
            @include inline-block();
            width:auto;
            font-size: 15px;
            color: rgba(255, 255, 255, 0.5);
            &:hover {cursor:pointer; color:rgba(255, 255, 255, 1);}
          }
        }

        span.tags {
          display:block;
          margin:7px 0 0 115px;

          p {
            @include inline-block();
            vertical-align:middle;
            overflow:hidden;
            width:auto;
            padding:0;
            text-overflow:ellipsis;
            line-height:18px;
            white-space:nowrap;

            em {
              height:13px;
              padding:3px;
              margin:0 3px 0 0;
              font:normal 11px $text-fonts;
              color:white;
              background:rgba(0,0,0,0.25);
              @include border-radius(2px);
              line-height:20px;

              &:last-child {
                margin-right:8px;
              }
            }
          }

          a {
            @include inline-block();
            vertical-align:middle;
            font:normal 11px $text-fonts;
            color:white;
          }
        }

        nav {
          position:absolute;
          left:0;
          bottom:0;
          height:40px;

          a.tab {
            padding:14px 20px;
            margin:0 0 1px 0;
            @include inline-block();
            color:white;
            background:rgba(black, 0.2);
            border:none;
            @include border-top-radius(3px);

            &:hover {}
            &:focus {}
            &:active {}

            &.selected {
              margin:0;
              color:#666666;
              border:1px solid #333333;
              border-bottom:none;
              background:white;

              &:hover {text-decoration:none; cursor:default;}
              &:focus {}
              &:active {}
            }

            &.disabled {
              &:hover {}
              &:focus {}
              &:active {}
            }
          }
        }
      }

      ul.options {
        position:absolute;
        top:0;
        right: 0;
        width:auto;
        margin:13px 35px 0 0;

        li {
          position:relative;
          padding:0 10px;
          margin:0;

          &:after {
            position:absolute;
            content:'|';
            top:0px;
            right:0;
            margin:0;
            color:rgba(white,0.4);
          }

          &:last-child {
            padding-right:0;
            &:after {display:none}
          }
        }
      }
    }

    &.query {
      background-color:#FF9900;
      a.clearview {color:#FF9900!important;}
      h2 a:hover {text-decoration:none; cursor:default;}
      span.table_description p {
        i {font-style:italic;}
        &:hover {text-decoration:none; color:rgba(white, 0.5)!important; cursor:default!important;}
      }
    }
  }
